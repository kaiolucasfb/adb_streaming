                                                                         #CONDICIONAL (IF)
                                                                         
 #condicional é  oq vai acontecer no resultado da comparação                                                                        
SELECT IF(5>10, 'verdadeiro', 'falso'); # (primeiro a comparação , o resultado que voce quer, o resultado que voce n quer(ou q seja diferente))
                                        
SET @idade = 30;
SELECT IF (@idade >=18,'maior de idade', 'menor de idade'); # exemplo de comparação de idade
                                                                         
SELECT 
	nome, 
	dt_nascimento, 
	IF(dt_nascimento <> '0000-00-00', 'solo', 'outras categorias') AS  categoria  #exemplo pra descobrir os artistas solos de outras categorias
FROM tb_artista;
                                                                         
DROP PROCEDURE sp_delete_genero;                        
#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                 
                                                                    #USANDO O 'IF' EM UMA PROCEDURE (de DELETE)
DELIMITER //
CREATE PROCEDURE sp_delete_genero (id_genero INT)
   BEGIN 
	   IF EXISTS (SELECT id FROM tb_genero WHERE id = id_genero) THEN #THEN singinifica 'ENTÃO', e faz com q o proximo codigo ative
DELETE FROM tb_genero WHERE id = id_genero;
   ELSE                                                                  # ELSE significa '' se não '', ou '' caso contrario '', ele so ativa caso um dos codigos, ou o q ta na frente, ou q ta atras dele, n der certo
    SELECT 'id invalido';
END IF;                                                           # todo if precisa de um END IF pois o IF e considerado como começo 
    END // 
DELIMITER ;                                                                        
#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                                         
DELIMITER //
CREATE PROCEDURE sp_insert_genero (nome_genero VARCHAR (255))
   BEGIN 
       INSERT INTO tb_genero
            (nome)
		VALUES
            (fn_acento(nome_genero));
    END // 
DELIMITER ;   


#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                         
                                                              # FORMA DE PERSONALIZAR O RED (CODIGO DE ERRO)           
                                                                         
 DELIMITER //
CREATE PROCEDURE sp_delete_genero (id_genero INT)
   BEGIN 
	   IF EXISTS (SELECT id FROM tb_genero WHERE id = id_genero) THEN
       DELETE FROM tb_genero WHERE id = id_genero;
   ELSE   
       SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT ='Codigo de genero invalido';
	END IF;
    END // 
DELIMITER ;                                                                    s     
                                                                         
           CALL  sp_delete_genero(500000000);                                                            
                                                                         
#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                                                                         
                                                                         USE db_familia;
                                                        #CONDICIONAL (CASE)
                                                                         
    SELECT 
      id, nome, 
     CASE
       WHEN id_mae IS NULL THEN 'mãe n informada'
       ELSE id_mae
     END,
	CASE
      WHEN id_pai IS NULL THEN 'pai não informado'
      ELSE id_pai
      END AS id_pai
FROM tb_filho;                                                                     
                                                                         
                                                                         
 select                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         
                                                                         